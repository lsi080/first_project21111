import streamlit as st  # Streamlit ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶ˆëŸ¬ì˜¤ê¸°

# ê¸°ë³¸ ì„¤ì • (í˜ì´ì§€ ì œëª©ê³¼ ì•„ì´ì½˜ ì„¤ì •)
st.set_page_config(page_title="ì²´í˜• ë¶„ì„ê¸°", page_icon="ğŸ’ª")

# ì•± ì œëª© ì¶œë ¥
st.title("ğŸ’ª ë‚¨í•™ìƒì„ ìœ„í•œ ì²´í˜• ë¶„ì„ê¸°")

# ì•± ì„¤ëª… ì¶œë ¥
st.markdown("ìì‹ ì˜ **ì‹ ì²´ ì •ë³´**ë¥¼ ì…ë ¥í•˜ë©´ BMIì™€ ê¸°ì´ˆëŒ€ì‚¬ëŸ‰(BMR)ì„ ê³„ì‚°í•´ë“œë¦½ë‹ˆë‹¤!")

# ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°

# í‚¤ ì…ë ¥ (cm ë‹¨ìœ„, ìµœì†Œ 100cm ~ ìµœëŒ€ 250cm)
height = st.number_input("ğŸ“ í‚¤(cm)", min_value=100.0, max_value=250.0, step=0.1)

# ì²´ì¤‘ ì…ë ¥ (kg ë‹¨ìœ„, ìµœì†Œ 30kg ~ ìµœëŒ€ 200kg)
weight = st.number_input("âš–ï¸ ì²´ì¤‘(kg)", min_value=30.0, max_value=200.0, step=0.1)

# ë‚˜ì´ ì…ë ¥ (ìµœì†Œ 10ì„¸ ~ ìµœëŒ€ 100ì„¸)
age = st.number_input("ğŸ‚ ë‚˜ì´", min_value=10, max_value=100, step=1)

# ê³¨ê²©ê·¼ëŸ‰ ì…ë ¥ (kg ë‹¨ìœ„, ìµœì†Œ 10kg ~ ìµœëŒ€ 100kg)
muscle_mass = st.number_input("ğŸ’ª ê³¨ê²©ê·¼ëŸ‰(kg)", min_value=10.0, max_value=100.0, step=0.1)

# ì²´ì§€ë°©ë¥  ì…ë ¥ (% ë‹¨ìœ„, ìµœì†Œ 1% ~ ìµœëŒ€ 60%)
body_fat_pct = st.number_input("âš ï¸ ì²´ì§€ë°©ë¥ (%)", min_value=1.0, max_value=60.0, step=0.1)

# ë²„íŠ¼ í´ë¦­ ì‹œ ê²°ê³¼ ê³„ì‚° ë° ì¶œë ¥
if st.button("ğŸ“Š ê²°ê³¼ í™•ì¸"):

    # í‚¤ë¥¼ ë¯¸í„° ë‹¨ìœ„ë¡œ ë³€í™˜
    height_m = height / 100

    # BMI ê³„ì‚° (ì²´ì¤‘(kg) / (í‚¤(m) * í‚¤(m)))
    bmi = weight / (height_m ** 2)
    
    # BMR(ê¸°ì´ˆëŒ€ì‚¬ëŸ‰) ê³„ì‚° (Mifflin-St Jeor ê³µì‹, ë‚¨ì„± ê¸°ì¤€)
    # BMR = 10 * ì²´ì¤‘ + 6.25 * í‚¤ - 5 * ë‚˜ì´ + 5
    bmr = 10 * weight + 6.25 * height - 5 * age + 5

    # ê²°ê³¼ ì¶œë ¥
    st.subheader("ğŸ“ˆ ë¶„ì„ ê²°ê³¼")

    # ê³„ì‚°ëœ BMI ì¶œë ¥
    st.write(f"**âœ… BMI:** {bmi:.2f}")
    
    # BMI ìˆ˜ì¹˜ì— ë”°ë¥¸ íŒì • ë©”ì‹œì§€ ì¶œë ¥
    if bmi < 18.5:
        st.warning("ì €ì²´ì¤‘ì…ë‹ˆë‹¤. ê±´ê°•í•œ ì‹ìŠµê´€ê³¼ ìš´ë™ì´ í•„ìš”í•´ìš”.")
    elif bmi < 23:
        st.success("ì •ìƒ ì²´ì¤‘ì…ë‹ˆë‹¤! ì§€ê¸ˆì²˜ëŸ¼ ê±´ê°•ì„ ìœ ì§€í•˜ì„¸ìš”.")
    elif bmi < 25:
        st.warning("ê³¼ì²´ì¤‘ ê²½ê³„ì…ë‹ˆë‹¤. ì²´ì§€ë°©ë¥ ê³¼ ìš´ë™ëŸ‰ì„ ì²´í¬í•´ë³´ì„¸ìš”.")
    else:
        st.error("ë¹„ë§Œì…ë‹ˆë‹¤. ê·œì¹™ì ì¸ ìš´ë™ê³¼ ì‹ë‹¨ ì¡°ì ˆì´ ì¤‘ìš”í•©ë‹ˆë‹¤.")
    
    # BMR ì¶œë ¥
    st.write(f"**ğŸ”¥ ê¸°ì´ˆëŒ€ì‚¬ëŸ‰(BMR):** {bmr:.2f} kcal/day")

    # ê³¨ê²©ê·¼ëŸ‰ ì¶œë ¥
    st.write(f"**ğŸ’ª ê³¨ê²©ê·¼ëŸ‰:** {muscle_mass} kg")

    # ì²´ì§€ë°©ë¥  ì¶œë ¥
    st.write(f"**âš–ï¸ ì²´ì§€ë°©ë¥ :** {body_fat_pct}%")

    # ê¸°ì´ˆëŒ€ì‚¬ëŸ‰ì— ëŒ€í•œ ì¶”ê°€ ì„¤ëª… ì œê³µ
    st.info("ğŸ’¡ ê¸°ì´ˆëŒ€ì‚¬ëŸ‰ì€ í•˜ë£¨ì— ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•Šì•„ë„ ì†Œëª¨ë˜ëŠ” ì—ë„ˆì§€ ì–‘ì´ì—ìš”!")
